==== NarraFirma TODO list:

PRIORITY
- export: overall report, print text questionnaires, print catalysis report
- catalysis (at least one step like graph or themer)
- WordPress plugin data save and load

BIG OPTIONAL FUNCTIONALITY AREAS
- visual clustering in planning phase
- theming and tagging

THINGS CYNTHIA NOTICED WHILE DOING HELP (probably redundant but just in case)
H Need a way to delete a story from a story collection
H When import story collection, need to display name of form in select
M Slider should have a "does not apply" option
L After you enter a story, it shows an alert that the story has been saved, but it doesn't get rid of the window. the popup window should go away
L would like to make "focus rectangle" or "rubber band" over graphs when selecting - see http://bl.ocks.org/mbostock/1667367
L Histograms should have mean and standard deviation marked (and maybe median and mode, skewness and kurtosis as numbers).

WORDPRESS PLUGIN
H WordPress plugin support for Pointrel save/load/triples
H Create entire WordPress plugin based on current stub version
H WordPress Roles/Accounts & Security

SURVEY GENERAL
L Display how many stories and/or survey results have been collected
L Ideally, all responses for selections (other than numerical sliders) should have unique IDs for each response and the stored response should have the ID as well as the chosen text at the time.
    Add support for short names (ids) for all options for survey questions
X Only store reference to questionnaire file resource, not the resource itself [maybe leaving as is?]
X Support translations or other categories for multiple question texts or choice texts for a survey
X Some easy way for two or more survey sliders to be close together under the same label
W Better mobile support for taking survey on cell phones
W User can enter small number of HTML tags in questions (b, i, ul, ol, blockquote, etc)
W User can enter text for (print and web): Please choose a question to which you would like to respond; Please enter your response in the box below; Please give your story a name; Would you like to tell another story; Yes, I'd like to tell another story; About you

SURVEY QUESTIONS
L Remove "What type of question is this?" question from story-eliciting questions page
X Survey - add checkbox for "is question answer required" (maybe later)
X Survey - start page required (what do do if nothing entered)
X Survey - improve styling on radio buttons for question or alternative approach (maybe later)
X Survey - maximum number stories (maybe later)
X Survey - back button in browser -- deal with so don't lose data

IDs
? Ensure short name IDs entered by user do not conflict with automatically created ones or story text and story name
L Add support for short names (ids) for eliciting questions
X Improve how options are specified for questions in question designer rather than use text box
X Make sure that short name IDs entered by user when defining questions are unique among themselves and don't have a leading underscore (or at least aren't "_id")

EXPORT/IMPORT
H Add page to do export
L Improve import process to remove two seperate buttons as two stages (questionnaire and data) or handle in some other way
L Add progress bar for import
X Add way to clear out or reset old survey results? Or maybe partition them by survey?
X Backup

LOGGING
X Think through logging in the server, perhaps using a library
    Ensure useful server logs are kept
    Fix issue with PNIWorkbookServer.conf that it uses logs directory that is not server-data/logs
X Think through logging in the client, perhaps using a library
    Client application could report errors to server or another service
    Client application could report usage metrics to server or another service

PRINTING
H Implement printStoryForm in domain buttonClicked (what do do about entering multiple stories?)
H Implement "print session agenda" (to HTML) for story collection
H Implement "print session agenda" (to HTML) for sensemaking

STORY THEMER
X Generalize storyThemer into tagging - or researcher added questions
    Support storyThemer -- a widget where people look at each story, give it 1-3 themes, then merge the themes into smaller numbers of themes
    Page to enter themes for stories
    Need page where user can add new researcher-defined questions and answers to stories (and maybe participants?)
X Page to cluster themes into final themes

GRAPH BROWSER 
H Support graphBrowser contingency table with statistical results
H Support graphBrowser standard deviation and mean for histograms
L Support graphBrowser common maximum for multiple histograms

TRENDS REPORT -> PATTERN BROWSER
H Rename trendsReport to Pattern Browser
H Move options (how large should subsets, what significance threshold) to popup under patterns list
H Support trendsReport -- shows text and graphs in report based on top differences in statistical tests
H Save and load pattern list with observations on trends report
H Support adding interpretations to observations in trendsReport (pattern browser)
L Rename "save current graph selection to observation" buttons under graphs

CLUSTERING (CATALYSIS)
H Support clustering interpretations into perspectives in catalysis (on page after pattern browser) WITH A TABLE
H Think about and improve issue of values that can be set only once like catalysis report name and story collection

CATALYSIS REPORT
H Create catalysis report - including results (graphs, statistical results)
   Perspective
       Interpretation
           Observation
               Pattern (graph)
H Print catalysis report

CATALYSIS
H Remove "review excerpts" page
X Need to be able to select text in existing story to AddToExcerpts
X Support storiesList -- for choosing a resonant story

SENSEMAKING
H Change "storiesList" functionality to - they have to paste in the name/text of the story. with a textarea

RETURN
H Implement exportPresentationOutline in domain buttonClicked

GRID
H When viewing grid data, it should not look (or be) editable
    Read-only version of checkboxes and radiobutton widgets, used by grid (assuming that is how the read only data is presented)
L Add close button to top of item panel
L Better information about what is going on in item panel - whether view, edit, duplicate
L When duplicate list item, add "copy" to name (different for each)

CONFIGURATION
H Make a Project Administration section to go with home page button for use with import/export/backup/reporting or other settings and functions
? Add project configuration page?

ALERTS
X Look at all alerts in code and make into nicer GUI feedback

TRANSLATION
X Translate report answers as needed for those types like selections
X Final review of all strings in code looking for TODO translate items or similar

BUILD
X Learn how to use some build or packaging process to minimize application for deployment

VALIDATION
X Think about validation and how or when or if it should be done
X Validation of page data as progress through a step
X Validation in general when progress through tabs and error reporting
X Validation of text fields for empty
X Validation of text fields for length
X Validation for checkBoxes limited by maximum number of choices as validation error

PRINTING
X Print section reports as HTML

NAVIGATION
L Way to select a different project to switch to (other than editing the URL or logging out)

UNSURE
X Way to retrieve data about project participant groups [Is this still relevant? Probably yes, if we did "checkboxes with pull" for picking what groups an activity applies to instead of text entry]

======= CYNTHIA

H Create help
H On Story question page, move "what type of question is this" extra text to help
H Clean up introduction page
H Fix wording on dashboard pages (and all wording related to reminders)
L Fix CSS styling so reminder section of page is different
L Improve general CSS styling on all pages (forms)
X Forgot to put "memorable" in eliciting question types ("What type of question is this?")

==== Wish list:

Autosave for current textarea or input text based on timer even if you don't leave it

Maybe have a summary page at end of each section (where they put in final notes on that phase)
Generate HTML reports that can be downloaded
Maybe replace reports with one page to export report (or export data)

Support Undo (including multi-user aspects with log)
Support mult-user chat
Notify user of multi-user edit conflicts

Copy selected stories to clipboard and/or a popup window

Display list of selected stories in spot-checking graph browser in Collection section

Add buttons to copy clustering diagram clusters or items to next step in project story elements page in plannign section
Support multiple item selection in clustering diagram

Improve look of login and start pages generated by Node.js server
Application should have better support when you need to re-authenticate due to server restart (rather than opening different browser tab by hand)

User can duplicate a project
User can delete a project

Chart with hover for story
Chart where can select a set of stories

Think about what happens to data if questions change somehow in future versions of the software

Improve dashboards, perhaps with green checkmarks and thinking through completion feedback to be better

Support for socket.io to track recently added survey results and whether survey is enabled

Add support for surveys that can be in multiple languages
Add support for providing story browser filter options based on analyzing data from surveys to collect all actual choices as well as current questionnaire(s)

Remember previous filtering options for any question in story browser

Adhoc questions (or tags) that can be added to stories when noticing trends (e.g. Did they talk about XYZ in the story?)
Or, saving sets of filtered and/or selected questions
Describe the filtering choices as a string, including detecting ranges for sliders to do dashed range for value

Better font size, maybe user adjustable

User definable CSS themes for surveys

Unit tests

Continuous integration server that runs tests

Generate PDF reports

Hash password when sending from client to server (not strictly needed if use ssh, and without ssh everything is potentially insecure from MITM attacks)

==== Might not do

Story list using dgrid with accordion for story
Support checkBoxesWithPull -- a set of check boxes where the display texts are drawn from a list entered previously (like for participant list)

Way to edit a story or participant info (with versioning) if needed? (Can use Pointrel approach with latest document version.)
Editing survey results for consistency with version control based on survey ID?

One project outcome item created per participant group

Check time server on startup in server to see if accurate enough when timestamping versions; maybe same for client

Survey - maybe add unique ID so long survey results can be saved as progressed through and finished later if you have the unique ID....

Make sections optional in loadAllPanelSpecifications to make that code more reuseable

Remove panel's displayName, isHeader, and section fields since now defined by navigation and that is duplicated information; example regex to find them: ^    "displayName": "[^"]*",

Support imageUploader
Support storyBrowserCount

==== DONE

DONE Checkboxes for multiple choices
DONE Tab container sizing to full page
DONE Slider with labels and no ticks
DONE Way to tag question as story text, story title, question about story, question about participant
DONE Getting dgrid to work alongside CDN
DONE Refactor NarraCoach pages into separate AMD modules
DONE Use table to have up to three sets of answers for general info questions about project participant groups
DONE Tabs should be grouped based on PNI stages
DONE Make "skeleton" of program with named tabs for all steps from spreadsheet
DONE Write convert program that converts from design_page_notes to page specifications
DONE Navigation using dropdown instead of tabs because too many tabs
DONE Buttons to go backward and forward through pages
DONE Story list widget with add button
DONE Grid header resizing
DONE Basic wait message when loading
DONE Remove all JSHint warnings (as of 2014-09-05)
DONE Remaking narracoach_questions.js to be proper module
DONE Support questionsTable
DONE Story browser with list of title and shows stories
DONE Support storyBrowser -- a Smalltalk-like browser for stories (basic support)
DONE Fix issue when two items selected and click view and get NS_ERROR_UNEXPECTED
DONE Moved styling into separate css style sheet
DONE Story browser with two choices of questions and answers
DONE Improve error logging to construct a list of new types added for Dashboard widgets and otherwise
DONE Fix popup dialog background when scroll and shows content beneath it
DONE Remove references to NarraCoach in code and content and replace them with references to PNI Notebook or other appropriate generic references.
DONE Fix issue with the way selects resize inside tables, especially for the story browser question filters
DONE Change name again from PNI Notebook to PNI Workbook
DONE Right-align questions in table of questions for project participants
DONE Resolve issue with story browser filter selects causing table cells to resize
DONE Fix issue for story browser textarea where probably should not be in questions list and *ALL* does not work right
DONE Startup wait progress
DONE Add icons for home, left arrow, and right arrow to buttons in navigation bar.
DONE Writing questions based on book (Cynthia)
DONE Support questionAnswer
DONE Support questionAnswerCountOfTotalOnPage
DONE Support listCount
DONE Support function
DONE Support toggleButton
DONE Dashboard for each section
DONE Create dashboard definitions (Cynthia)
DONE Support checkBoxes
DONE Fix boolean so it can get disabled and value gets set (also fixed radio buttons which uses same widget)
DONE Move question creation code from main.js into question_editor.js and generalize so popups can have special types of components (buttons, grids, storyLists)
DONE Support a button does something when clicked
DONE Test dynamic pages vs. inline page sections for grid items
NOT DOING Create new pages when add new participant groups
DONE Save data (within domain model) as move from page to page
DONE Restore data (from domain model) when load page
DONE Add select at bottom of each page -- this page has been: intentionally skipped;partially completed;completed
DONE Participant questions need to have options and ids and translations
DONE Support grid widget with buttons for add and view
DONE view and add buttons after grid, nested box appears under grid
DONE don't display commented lines from design file
DONE display images
DONE make quizScoreResult work (not entered 0, unknown 0, first 0, then 1, 2, 3). ideally total in each category
DONE make unsupported functionality look better (with explanations of what it will do)
DONE Get grid headers to work reliably everywhere
DONE Refactor code to have one file per page so can override behavior if needed
DONE Write node.js script to generate pages and translations file
DONE Refactor code to have one function per widget type
DONE Refactor code to have one function per calculation for calculated widget types
DONE Fix support for nested grids to store data
DONE Move generated code out of domain
DONE Fix issue with side-by-side story browser filters showing above each other
DONE Put custom widgets in their own folder
DONE Fix dashboard items for page status to be read-only
DONE Bug with scrolling and story browser -- only showing entries in initial page size and rest are blank
CHANGED to inline -- Dynamic pages for participant group aspects
CHANGED to inline -- Dynamic pages for collection session plans
DONE Generate model information into allPagesSummary file.
DONE Improve general button function dispatch handling
DONE make "copy draft answers" in planning phase work
DONE Create stub test server to store and retrieve data under node.js to see what it is like
DONE added application level translation file and using it in translate function, but still need to fill it in
DONE Generic application-level translation TODO items
DONE Move test data out of domain into its own module
DONE Support report (in HTML, name of page, contents of page)
DONE Write nodejs server for Pointrel system (including importable module)
DONE Refactor Pointrel system client code so one includable file
DONE Initial save and load of project data with Pointrel system
DONE Got Pointrel nodejs server integrated with PNIWorkbook system and have server serving pages
DONE Import extra dojo modules (beyond base) into project and use with index.html
DONE Add some basic survey support again to the point of testing core functionality
DONE Add temporary debug button to print out domain project info
DONE Fix issue with checkboxes (and maybe radio buttons) not saving data
DONE Have a way that items in grid that are objects are formatted in some readable way
DONE Add take survey page
DONE Replace fake story data in story browser with a way that real data is loaded and stored
DONE Support for radiobuttons, checkbox, and checkboxes in story browser
DONE Add uuid to survey results
DONE Update story browser when load project
DONE Save data from when survey is taken
DONE Way to refresh survey data into PNIWorkbook on button press (or similar action)
DONE Support graphBrowser -- shows one graph at a time, with two question select drop-downs to choose which graph to show
DONE one bar graph in graph browser (actually scatter plot)
DONE Fix bug from testing with problem adding two grid items
DONE Support grid widget double-click to view
DONE Support all page types: normal (no specification), popup, questionsTable, recommendationTable [deferred to own item], participantStoryForm
DONE Fix survey entry to prevent missing or duplicate question ids (done in domain for now)
DONE Better error messages when loading project or survey results and not available on the server
DONE Investigate double creation of survey data during test on 2014-11-17 on cfk machine for first survey created
DONE Support graphBrowser scatter graph for slide vs. slider
DONE Support graphBrowser contingency table for choice vs. choice
DONE Support graphBrowser multiple histograms for scale vs. slider (or stacked histogram)
DONE Support graphBrowser bar graph for choice alone
DONE Support graphBrowser histogram for slider alone
DONE Provide GUI feedback when saving project to server
DONE Provide GUI feedback when loading project from server
DONE Support grid item remove
DONE Support grid item edit
DONE Support grid item duplicate
DONE Support grid item move up or down 
NOT DOING Tabs created for new pages as add participants or session plans or session records [Replaced by grid table edit area]
DONE Translation of strings related to page of questions on project participant groups [should work like everything else since using grid table]
DONE Add text field to add participants for these:
  DONE Dynamic pages for collection session records [Now handled as grid]
  DONE Dynamic pages for venues [Now handled as grid]
  DONE Dynamic pages for sensemaking session plans [Now handled as grid]
  DONE Dynamic pages for sensemaking session records [Now handled as grid]
  DONE Dynamic pages for intervention plans [Now handled as grid]
  DONE Dynamic pages for intervention records [Now handled as grid]
NOT DOING questionsTable working again [No longer needed]
NOT DOING Fix questionAnswerCountOfTotalOnPages so it can handle a questionsTable [No longer needed]
DONE Improvements to conversion utility to report conversion issues like missing short names better
DONE Use new version of Pointrel system with memory indexing instead of index logs so server code is simpler and more robust and supports use by server-side code
DONE Translation support for survey as distinct from application so two do not potentially collide
DONE Support a participantStoryForm -- the form everyone who comes to the URL can see
DONE webStoryCollectionEnabled toggle status to turn off seems broken
DONE Survey taking system on web server
DONE Implement startup and shutdown of web data collection in domain buttonClicked
DONE Implement copyStoryFormURL in domain buttonClicked
DONE Use questionnaire instead of list of questions as specification for survey form
DONE Determine why survey form is requesting some resources twice (due to loading the domain which checks questionnaire status itself -- fixed)
DONE Fix how survey data is collected and stored to separate multiple stories from participant information
DONE Support for Pointrel server returning the current time so clients can compare with it
DONE Integrity checks in Pointrel server to ensure timestamps from client are not significantly in the future
DONE Have timestamp for new resources set by server as an option, with the sha256AndLength returned for a post
DONE Support a templateList -- a list box with templates read in from a file (of a particular type) with a "copy" button
DONE Figure out how to run NodeJS server on AWS EC2 standard CentOS AMI as a service that gets respawned if it crashes and gets restarted on reboot
DONE Have templates list and recommendations table be popup dialogs opened from a button instead of inline on page
DONE Resolve server configuration issue where upstart got confused about what was running [by removing use of forever]
DONE Improve logging from upstart about when start and stop server
DONE Add proof-of-concept for concept map
DONE Improve concept map so you can have more than one per page or application
DONE Figure out how to save and load concept map more directly than with a button to save
DONE Add support for deleting items in concept map
DONE Support setting color of items in concept map
DONE Change name from to "PNI Workbook" to "NarraFirma" to try it out
DONE Rename "concept map" to "clustering space"
DONE optimize redrawing for changes in clustering diagram
DONE add indicator for selected item in clustering diagram 
DONE Area to right on clustering looks like it should work but does not as circles disappear when maximize window
DONE Support resizing cluster diagram
DONE Store clustering diagram as an object with properties not just an array of items
DONE Fix how templates are not splitting up options separated by semicolons
DONE For all dialogs, look into probable memory leak when closed and they are not destroyed; see conceptMap for an approach that works to clear them
DONE Fix how templates dialog does not close when insert one
DONE Draft answers not copied when press button
DONE Add version format (1.2.3) information to saved resources
DONE Add revision UUID for document version to documents (or sha256AndLength reference?) [Using sha256AndLength for now]
DONE Add reference to previous version (or versions) when save resources to get tree or chain of versions [only for main project answers for now]
DONE Update application code to track versions [only for main project answers]
  <Out of order Cynthia>
NOT DOING Change dashboards to a special widget with list of pages in options [id|dashboard|page1;page2] (Cynthia)
DONE Change all items that start with "list_" (Cynthia)
DONE Remove all "I'm done with this" checkboxes (Cynthia)
DONE Fix all things that say "These are the project stories you have told so far." with explanation of task (Cynthia)
DONE Templates for activities (Cynthia)
DONE Figure out what to do with finalize your questions (Cynthia)
DONE Intro for reports (Cynthia)
DONE Prototype concept images for demo (Cynthia)
DONE Change "Sensemaking sessions" and all other too short labels for lists near end of file (Cynthia)
DONE Every question must have short name - except labels and complicated widgets (Cynthia)
DONE Story collection sessions -- change question to label (Cynthia)
  </Out of order Cynthia>
DONE Fix how selected eliciting question in select box is not entirely visible
DONE Indenting question entry areas under question text using CSS for questionInternal and questionExternal classes
DONE Support adding more than one story in survey form GUI
DONE Improve take survey page like with support for separate pages
DONE Look into Dojo resizing bug in Wizard and StackedContainer when at 100% size and it grows height (seems to be fixed if use "doLayout: false"); comment out PDF debugging code in dijit/layout/_LayooutWidget.js
DONE Survey - submit button on participant info
DONE Survey - improve display of title
DONE Survey - Improve how end panel is displayed
DONE Remove unneeded startup calls that may be slowing down page loading: http://dojotoolkit.org/reference-guide/1.10/dijit/layout.html#id8
DONE Improve layout of source dialog in clusterign diagram so the text area scrolls instead of the entire dialog
DONE Survey - validation on picking question, entering story, entering title
DONE Refactored text edit window from clustering diagram into widget support so can be used by other callers
DONE Add export and import buttons for project design
DONE Fixed clipping of left field name in slider
DONE If only ask one prompting question, don't show radio buttons and choice, just present question
DONE Redo test data for latest approach for use with testing catalysis tools
DONE Convert pointrel version to one supporting triples
DONE Changed conversion code so that it has "use strict" used in its functional form
DONE Remove all JSHint warnings
DONE Add toaster support
DONE Migration to dgrid 0.4.0
DONE Change CDN references to Dojo 1.10.3
DONE Add start, previous, next, end navigate buttons to grid table
DONE Issue when trying to move items up or down but have sorted the list based on a header so the order visible is different than the underlying array
DONE Cleanup typos in design and in comments and such
DONE Remove various JSHint-like warnings related to loops and such
DONE Remove cyclic AMD dependencies related to widgetBuilder being used by grid
DONE Refactor toaster into its own module
DONE Add code to put up help window
DONE Add blue information icons for every significant interface point that pull up help window
DONE Change NarraKit everywhere to NarraFirma.
DONE Review nls/messages_legacy_ideas.js and delete it after moving any useful content to design.
DONE Delete old generated and experimental design code no longer used when had been using seperate pages
DONE Move to a more generic translation method where can pass a string or can put a "#" in front to indicate and ID with a text to use after that separated by a space.
DONE Migrate away from generating code from textual design to maintaining code directly
DONE Move to system where have model fields as expandable objects, with builder that uses them to make models
DONE Mix in GUI interface points on pages to model fields to produce unified view of application design, with builder to extract pages
NOT DOING Think about changing names for fields when they are in a smaller model (like the long names for searching across files given JavaScript's lack of a type system to otherwise navigate)
DONE Refactor GUI code out of utility module
DONE Replace utility module for things like string startsWith with lodash (underscore-work-alike)
DONE Refactor widgetBuilder module into a PanelBuilder class with an instance used to build panels
DONE Refactor PanelBuilder add methods so they accept a fieldSpecification instead of an id and options
DONE Refactor dialog opening code into seperate dialogSupport file
DONE Improve how translations are calculated using fieldSpecification as the value if no translation in nls files
DONE Improve introduction panel with more background and help about how to navigate within application
DONE Split up long list of choices into navigation sections which only move through pages in a section (only all project pages, only all catalysis, etc.)
DONE Refactor PanelBuilder so all add_* functions are in their own files
DONE Remove resizeGridsKludge
DONE refactor gridTable module into GridWithItemPanel class
DONE Redo applicationFieldSpecifications and applicationBuilder to more specialized classes.
DONE Create a FieldSpecificationCollection which tracks all the field specifications and can do queries on them (and potentially can get passed into a panelBuilder)
DONE split application design fields by page into separate files under fieldSpecification directory by section
DONE Removed page ID from each field specification and "inherit" it from page or panel specification
DONE Think about if should mix in page specifications with fields? [Kept as is for now]
DONE Split PanelBuilder add_* functions into ones specific to NarraFirma in applicationWidgets and more generic ones left in panelBuilder module
DONE Fix bug introduced in translate approach where can pass in a string with a leading number sign ("#") and it is treated differently
DONE Better and more consistent approach for translation selections for selects, checkboxes, radiobuttons, and maybe other types [this seems done enough based on other changes]
DONE First cut for main Dashboard
DONE Decide or distinguish between between an initial explanation page versus a first big dashboard [introduction pages comes later]
DONE Create widget for Main Dashboard that combines a button and a section status
DONE Get dialog for choice from list working
DONE Fix resizing issues in dialogs
DONE Add testing directory with simple tests for dialogs
DONE Switch to <!DOCTYPE html> tag for all HTML files instead of HTML 4.01 tag
DONE Improve loading and saving of project so can look at versions
DONE Figure out exactly how help text will be stored
DONE Generate stub help files from design specification with one div per interface item on a page
DONE Improve help system so it jumps to those specific help divs associated
DONE Created test NarraFirma WordPress plugin (but does not save data)
DONE Add PanelBuilder method to create a new content pane and use it where reasonable
DONE Fix missing hashtag in help URLs for specific div to go with item
DONE Implement countNumberOfVenuesChosen in domain (is this still needed? If not, remove stub code for it.) [Removed unused code]
DONE Update story browser when load latest stories from server (without need to press Filter button again)
DONE Removed unused code for add_questionAnswerCountOfTotalOnPage.js
DONE Removed unused code for add_listCount.js
NOT DOING Only load PanelBuilder components as needed for built panels (using AMD) [Would make the architecture much more complicated.]
DONE Replace PanelBuilder.updateQuestionsForPageChange with different approach
DONE See if still need updateQuestionsForPageChange or if can improve that somehow [Replaced with better approach]
DONE Remove toaster gui dependency from domain by using publish/subscribe
DONE Include "NarraFirmaTM" text in upper left corner of pages
DONE Remove selection items about completion status from dashboard pages
DONE Improve dashboard so buttons and status line up in columns
DONE Fix issue with story browser no longer showing all questions
DONE Improve GUI support to clear filters in story browser
DONE Improve story browser to dynamically update as you select filter options
DONE Fix bugs in survey entry from previous refactoring changes for dataOptions and displayConfiguration fields
DONE Use JSON files for panel and field specifation insteod of JavaScript (including writing a tool to help with that)
DONE Refactor domain so it references a domain object internally for clarity and easier searching on domain.questions usage
DONE Optimize lookup of panels and models in FieldSpecificationCollection
DONE Consolidated all information about panels, pages, and fields into FieldSpecificationCollection instead of that class, domain.js, and main.js
DONE Clean up left-over translation-related code for extra translations that is no longer needed
DONE Refactor: Rename FieldSpecificationCollection to PanelSpecificationCollection and change "questions" to "panelFields" or "fields" as appropriate
DONE Refactor how dependent values are calculated so that code is not in PanelBuilder [probably good enough for now]
DONE Separate generic widgets from project-specific widgets, and have project-specific widgets added as plugins by main application
DONE Add some general small independent tests of PanelBuilder functionality 
DONE Create test of panel builder that displays a panel
DONE Create test of saving and loading a model using pointrel library
DONE Create test of displaying panel that can save and load data to server that is displayed in panel
DONE Fix sizing bug in templates chooser dialog where it is too narrow
DONE Add cancel button to templates chooser dialog
DONE Add close button to recommendations table dialog
DONE Grid should be more configurable via field specifications
DONE Grid widget option specification to control button availability [same as above]
DONE Create panelWithModelChooserSaveLoadTest where can save and load test models for all panels
DONE Load panel navigation information from JSON
DONE Move loadAllPanelSpecifications into PanelSpecificationCollection and pass in needed information about navigation and base path
DONE Remove unused imports and do other cleanup
DONE Make intial version of PointrelCache for testing polling
DONE Refactor application.js into more modules by responsibility (navigation, page display, button actions)
DONE Remove all explicit setting of an id when creating a dijit to minimize errors from duplicate IDs from other programming issues
DONE Track when changes are made and model is "dirty"
DONE Add confirmation request when changing pages or closing page if data has changed
DONE Have save and cancel button that requires saving before change pages [essentially same as above]
DONE Confirm reloading or closing page if have unsaved data
DONE Start loading data on every page change
DONE Add Standby widget when loading data for pages
DONE Add exception handling for problems when displaying a page
DONE Fix cluster diagram so it reloads data when model changed
DONE Fix inconsistency for story project clustering diagram id and displayConfiguration; add temporary kludge when loading data for change
DONE Improve startup please wait loading messages
DONE Improve startup wait progress [same as above]
DONE Improve naming of model classes in panel specifications
DONE Refactor code so have better defined domain models, probably with dmodel [just using Stateful and a current page]
DONE Move global data out of various modules and into domain
DONE Improve recommendations table (Cynthia)
DONE Set up initial NarraFirma WordPress website
DONE Add some intial content to website
DONE Fix CSS references in help files
DONE Improve Pointrel server to return timestamp for saved resources
DONE Add help button to navigation section and only display help per page by removing information icons
DONE Add navigation buttons at bottom of pages to go forward or home if at end of section
DONE Some sort of continue button at bottom of page to progress through steps [same as above]
DONE Think about saving and loading for smaller subparts of projects as seperate files
DONE Think about saving one file per page or model and using triples to index them related to one survey?
DONE Save and load the data for the project with one document per page instead of one document for entire project
DONE Save and load data for each page instead of for entire project [same as above]
DONE Saving project data to a file server as make progress [Pretty much same as above]
DONE Add triple indexing for all data saved for a page so it can be more easily retrieved by other pages
DONE Get questionAnswer widget to retrieve current value from Pointrel server using triple query
DONE General notes should go after dashboard for each section [removed these entirely]
DONE Think about how to save or retrieve general section dashboard status if decide to split up project file by section
DONE Use a text field instead of a select to add reminders about page status; display those on section dashboards using Pointrel triple indexing
DONE Store and load questionnaire built from multiple server requests for Pointrel triple indexing
DONE Add page for print project report to project report section; add related stub help page
NOT DOING Ideally support more than one survey per project [Alternative to create a new project may be good enough; also would make GUI more confusing]
NOT DOING Add support for adding multiple surveys per project [Same as above]
DONE No short name for type: clusterSpace field: clusterInterpretations_clusterSpace text: Cluster interpretations into perspectives [now using clustering diagram]
NOT DOING Implement showHideCollectedStories in domain buttonClicked [Not sure what this means now or if still relevant; think it is obsolete task]
NOT DOING Disabled or hidden tabs which are enabled as progress
NOT DOING Resize Tab container when add Graph [obsolete task as no longer have tabbed notebook GUI]
DONE Handle questionnaire update after it is loaded in story browser
DONE Handle questionnaire update after it is loaded in story themer
DONE Improve story browser filter panes to only take up 50% of panel width each
DONE Fix issues with generating questionnaire using callback
DONE Fix issue with dijit dropdown box being odd size [was CSS issue]
DONE Implement story card display
DONE Use story card display in story browser
DONE Fix issue where graph throwing exception due to missing loaded modules used internally by graph module
DONE Handle questionnaire update after it is loaded in graph
DONE Design discussions on catalysis and how patterns page might work driven by all pattern (question) permutations in a grid (C&P)
DONE Think more about catalysis part [same as above]
DONE Switch to D3 for charting instead of dojo for scatter plot, bar chart, and histogram
DONE Get brush selection to work using D3 for scatter plot, bar chart, and histogram
DONE Move chart construction from add_graphBrowser into separate charting module
DONE Initial version of pattern list in trends report
DONE Have pattern list select graphs in trend report
DONE Support having user enter observations for a graph in trends report
DONE Support selecting (brushing) of stories in all graphs
DONE Put selected stories from graphs into a stories list in trends report
DONE Save and restore selection (brush) in D3 graphs as JSON text added to observation in trends report
DONE Design thinking and discussions about priorities and supporting multiple questionnaires, survey results (datasets), and catalysis reports
DONE Triage TODO list
DONE Support clusterSpace -- used in catalysis to cluster interpretations it is a graphical OR grid way of putting like with like, the option tells you what is to be clustered
DONE Put in place dojox.widget.Standby when saving
DONE Improve save/load feedback [same as above at this point]
DONE Support graphBrowser displaying related stories for visible data point or bar or line [partial, selection done for all but contingency, no display yet]
DONE Create pattern list on trends report for browsing graphs and making observations
DONE Convert contingency table from HTML table to D3 chart with brush selection of stories
DONE Support observationsList -- used to list all the previously made observations (now part of trends report)
DONE-ENOUGH Catalysis -- story browser needs two buttons that pull up pages to put things in lists: addToObservation:"page_addToObservation";addToExcerpt:"page_addToExcerpt"
OBSOLETE Need to figure out some way to represent RESULTS in observations (story browser queries/results, graphs, statistical tests)
OBSOLETE Observations list should not have "add" button, because observations can only be added using "add to observation" button on story browser, graph browser, trends report (but it should have an edit button)
OBSOLETE Support accumulatedItemsGrid -- for results selected to include in an observation
OBSOLETE Support annotationsGrid -- for results, excerpts, or interpretations linked to a perspective
DONE Make whole planning phase work (including report) [no reports][Except, summary page is seperate issue, and clustering is a seperate issue, so still to be done]
OBSOLETE No short name for type: observationsList field: observationsListChoose text: Choose an observation from this list to which to add the selected result, or create a new observation.
OBSOLETE No short name for type: excerptsList field: selectExcerpt_excerptsListDisplay text: Collected excerpts
OBSOLETE No short name for type: excerptsList field: addToExcerpt_excerptsListChoose text: Choose an excerpt from this list to which to add the selected text, or create a new excerpt.
OBSOLETE No short name for type: annotationsGrid field: perspective_linkedResultsList text: Results linked to this perspective
OBSOLETE No short name for type: annotationsGrid field: perspective_linkedExcerptsList text: Excerpts linked to this perspective
OBSOLETE No short name for type: annotationsGrid field: perspective_linkedInterpretationsList text: Interpretations linked to this perspective
DONE Decide between HTML, PDF, RTF, Open Office or other for initial printing generation [HTML]
DONE Create recommendations file (CFK)
DONE Should "venues" name be changed, as could be confusing as to meaning "location"? But "venue" can also mean "forum" or "soapbox" so maybe OK? [Not changing]
DONE Remove story browser from catalysis section (but leave in story collection section)
DONE Move graphBrowser to collection process phase
DONE Remove graph browser from catalysis section (and put in collection process section) [same as above]
NOT DOING Fix how story browser browses stories for separation of participant info from stories
NOT DOING Should there be a separate participant info browser or is that handled by story browser? If "story browser" does that, may need to rename story browser?
NOT DOING Fix how graph browser shows graphs for separation of participant info from stories
DONE Design File: No short name for type: storyThemer field: themeStories text: Theme stories [fixed when added story themer widget]
DONE Design File: No short name for type: trendsReport field: reviewTrends_display text: Trends report [fixed when added trends report widget]
DONE Fix bug with optionsForAllQuestions introduced into story browser
OBSOLETE Support graphBrowser "add to observation" button
DONE Convert clustering diagram to use D3 instead of Dojo GFX
DONE Issue where background is transparent when go to view or change the source in clustering diagram [previously fixed]
DONE Move "diagram source" button to last in row above cluster space
DONE Change button name from "update" to "edit"
DONE Support multi-user sites
DONE Support multiple projects per user
DONE Need a project creation page [Done using narrafirma-admin command line tool for now as superuser]
DONE Need a way for a user to choose a project to work on
DONE Settle on some authentication approach for authoring/administration [For nodejs]
DONE Decide on approach for logging in and controlling access to changing project definition [Changes done via command line tool for now as superuser]
DONE Have select support getting options from an array elsewhere in the model
DONE Have GridWithItemPanel signal the array has changed when objects in it are added, removed, or changed
DONE Create first cut at questionnaire design page with subpanels (still not working 100% though due to other needed refactoring)
DONE Think through how project is loaded and saved, especially what happens if multiple windows or users edit the same project [new Pointrel version]
DONE Modify Pointrel system to have better support for tracking all new additions to a collection
DONE Modify Pointrel system to have better support for selecting a subset of stored resources relevant to a project section or page 
DONE Modify Pointrel system to have better support for client-side searching if have a copy of all relevant resources from a remote collection
DONE Support anonymous access to read or write a specific topic in a journal for Pointrel system
DONE Create Pointrel command line admin tool that can grant and revoke authorization for users, create users, and create journals
DONE Improve feedback when there are no project versions or survey results; maybe distinguish between an error and nothing being saved yet
DONE Implement "Story Collection" concept to support arbitarry datasets tied to a specific survey version
DONE Use one project model for all pages instead of seperate page models for all pages
DONE Move to single model for project [same as above]
DONE Support a "clientState" object that stores local information for a specific instance of the application
DONE Add support in select (and other standard widgets) for a value path
DONE Rename "data" to "value" for all panel definitions and related support machinery
DONE Improve handling of hash in URL so can have multiple projects and other state stored in a URL
DONE Improve translate support for empty strings
DONE Support multiple surveys per project
DONE Have survey entry page support different surveys
DONE Figure out what URLs will look like for administration/authoring vs. survey taking (multiple?) vs. (maybe) project
DONE Have survey page use special server method so does not use Pointrel system directly or need authentication [using PointrelClient but special anonymous authorization for a specific topic]
DONE Add page about finalizing a survey [done as story collection]
DONE Figure out GUI for "finalizing" a survey as opposed to storing current version when enable survey [done as story collection]
DONE Ensure the survey taking app does not need to load entire domain from project editor app or load grid or story browser or other modules it does not really need.
DONE Record IP address of survey or use another means to see if someone taking it multiple times [Done via standard Pointrel message trace]
DONE Resolve issue with hardcoded project ID
DONE Resolve issue with hardcoded survey ID
DONE Resolve issue with hardcoded questionnaire ID
DONE Merge Collection Design and Collection Process sections into single Collection section
DONE Figure out how to print a page with a report on it from the browser (general support)
DONE Make progress on printing questionnaire (still not 100% done)
DONE Remove "domain" module (functionality mostly moved to Project but also elsewhere)
DONE Remove global domain and replace with referencs to project or objects passed around [same as above]
DONE Remove "storage" module (functionality mostly moved to Project but also elsewhere using new Pointrel version)
DONE Add support for read-only checkboxes, and improve support for read-only text fields
DONE Write up sample NarraFirma product offering descriptions for review (including for website) (CFK)
DONE Finish templates (CFK)
DONE Make clickable image map on main dashboard page to go to sections from PNI Phase Diagram
DONE Add support for plain HTML widget in panel definitions used by Panel Builder (used to make image map)
DONE Improve server status reporting using color and border of NarraFirma text instead of entire status line
DONE Rename main dashboard as "Home" page
DONE Remove extra clutter from home page, like shortcut buttons and extra explanatory text that will be covered by help system
DONE Rename project report button on home page to project administration
DONE Fix issue with story collection where when you turn one on or off the others have their survey definition updated
DONE Get "Disable web story collection" to work again with multiple story collections
DONE Improve application color styling to match NarraFirma website (CFK)
DONE Switch from Navigation dropdown to navigation breadcrumbs
DONE Put unknown choice at end of lists (CFK)
DONE Disable grid buttons when editing
DONE Support having edits and selects that are immutable after item is added
DONE Support valdation methods for grid item add and edit
DONE Store questionnaire directly in story collection when story collection is created (using item add validation method)
DONE Check in sample story data (CFK)
DONE Import for story collection from CSV format (ideally with questionnaire)
DONE Add page to do import [actually a button]
DONE Maybe import button for survey results [same as above]
DONE Review alternate reactive GUI systems like React, Mithril, and Mercury and pick one for testing with survery (for loading speed, memory footprint, and simpler maintenance)
DONE Convert survey to use Mithril and plain HTML input widgets instead of Dojo/Digit approach
DONE Make survey work as one scrolling page
DONE Problem when opened up road block survey with Firefox and developer console and it was too tall and when closed console the top close button became inacessible as offscreen [fixed with move to Mithril]
DONE Survey - Move to single page scrolling approach for survey
DONE Survey - Better validation that at least one story entered instead of forcing first story entry pane to have a story even if second or later panes have stories
DONE Survey - delete button w/confirm
DONE Survey - reorder story numbers
DONE Survey - can't delete last story
DONE Survey - Better styling to match improved application styling
DONE Survey - Get sliders to show up in Android 4 on test phones
DONE Survey - Get survey to have a good width that reflects the screen size on Android 4
NOT DOING Switch to using Dojo Mobile for the surveys [Using Mithril and plain HTML instead]
DONE Remove unneeded imports (again)
DONE Create help for planning section and review wording of pages (CFK)
DONE for activities, it copies the WRONG template (selectedTemplate is wrong line)
DONE in write story eliciting questions, in the grid, it says "Short Name' but it SHOWS the ID
DONE in write story eliciting questions, when you choose a template, it asks whether you want to copy it, and it's not 'undefined', but it's the ID, not the short name
DONE in plan story collection session, when you use a template (at least for a story collection exercise) it says "Copy selected template 'undefined' into question definition?" should have a name
OBSOLETE Improve template list generation tool to support storyCollectionActivities and sensemakingActivities
DONE in survey, no story number
DONE in survey, delete button should have story name, or untitled
DONE Make Mithril survey form read-only after submitted
DONE Imporve how Mithril survey handles selects (was setting wrong value sometimes on redraw)
DONE Improve Mithril survey accessibility by adding labels with ids
DONE Remove all HTM5 validation errors from Mithril survey
DONE Remove use of Dojo Dialog and lodash from Mithril survey to improve loading time
DONE Fix bug in Pointrel client preventing resending survey if sending failed the first time
DONE Have Mithril survey use local Dojo files instead of ones from CDN
DONE Make Mithril survey read-only while being submitted
DONE Survey should become read-only after submitted
DONE Add preview button for survey on question form creation page that shows survey in a separate page
DONE Improve survey please wait display so it does not flicker if page loads quickly
DONE H CFK add < > buttons under story lists (was also: H Need previous and next button when reviewing incoming stories)
DONE H when you are viewing a grid item with a template button, you can see the templates list and copy a template; button should be disabled or invisible
DONE Fix bug where scatterplot tooltip not showing correct story (CFK)
DONE Calculate chi-square statistic in trends report
DONE Calculate Kendall's Tau statistic in trends report (developed using TypeScript from Numerical Recipies / older SciPy version after partial port of code from Apache Commons)
DONE Convert entire project to TypeScript to help manage complexity
DONE Fix incorect brush behavior in bar chart and histogram
DONE Need page at start to create new or choose existing catalysis report to work on
DONE Support multiple catalysis reports by choosing questionnaire and data set (survey results)
DONE Move "review and intepret observations" functionality to patterns browser (CFK)
DONE CSS styling of nested box in grid (CFK)
DONE Remove all reports (CFK)
NOT DOING Improve reports so look nice [n longer have reports at end of sections]
DONE Make screenshots for application (Dojo vesion)
DONE Convert entire GUI from Dojo/Dijit to Mithril, including Grid [big effort, took a couple weeks]
DONE Remove any use of widgets in widgetSupport or other use of Dojo controls (e.g. Button) directly and only use PanelBuilder for creating GUI [widgetSupport removed with change to Mithril]
DONE Project chooser dialog should be centered in page instead of over to the right side of window due to issue with Grind scroller and CSS [fixed with new Mithril dialogs]
DONE Story browser (Catalysis section second page, but also review stories during collection) seems to sometimes cause and endless loop in Firexfox or Chrome causing memory use growth and beach ball. Maybe some resize bug in dojo or dgrid? [Have not seen in months and move to Mithril would seemingly surely fix this]
DONE Grid Sorting issue: Initial sort order in grid may be order of items in underlying array, but you can't get back to that order once you sort by a column [now always sorts on first column to start]
DONE Odd behavior under Firefox where did not see a scrollbar until resized text area when had lots of section notes [have not seen this again]
SONE Decide what goes on main home dashboard now that changed from page status to textual reminders [main is just simple for now]
DONE Replace other Dojo functionality like hash change, toaster, and sha256 with non-Dojo alternatives
DONE Replace Dojo's isString which is deprecated (and similar basic functionality) with lodash calls
DONE Replace Dojo loader with RequireJS
DONE Have list of selected stories in graph browser in collection process section [Could be better, but in place]
DONE Switch entire data storage system from using a projectModel of objects to using Pointrel triple store as almost all levels [took about a week]
DONE Multi-user aspects (partially done with separate save/load of pages) [could be improved further]
DONE Save data for observations and so on as separate documents so can do it incrementally [as triples]
DONE Maybe separate documents for each participant group [as triple]
DONE Maybe separate documents for each survey question [as triples]
DONE Think about save/load architecture and Pointrel design in relation to handling lots of observations for pattern permutations [relates to the above use of tripel store]
DONE More fine-grained update support when updating an item in a grid, like a participant group, rather than update entire item and even list [relates to the above]
OBSOLETE Autosave, perhaps based on time or based on changing pages [fine-grained triples is goood enough for now]
DONE Fix sha256 discrepancy between Pointrel client and server by switching to CryptoJS SHA256 for client [hopefully fixes this]
NOT DOING Some way only load page and panel files as needed (with help URL being determined by PanelBuilder as it creates panel, and maybe specify panels in section by hand)
NOT DOING Load panel widgets only as needed by always creating contentPane for a widget and loading the contents later as available returning a promise, with ready callback in builder when all promises kept
NOT DOING Only load panel information as needed for section (or request for specific panel)
DONE Rename "questions" with "fieldSpecifications" where appropriate and make similar changes away from using "question" to mean "fieldSpecification" [partly done -- seems good enough]
DONE See if still need so many button functions in domain (or maybe any at all) [seems OK as is now]
OBSOLETE Help window displaying HTML instead of alert [now using HTML window for help for entire page]
OBSOLETE Have revert button to go back to previous version for each page or clear out changes in progress on a page [no longer savign at page level; undo in wishlist though]
DONE Remove redundant code when calculating survey questions for story and name in survey and story browser [I think this is probably done enough...]
DONE In the lists of questions while designing a story form (eliciting, story, participant) it needs move up, move down arrows, OR an "order" field [added "order" field]
DONE The activities list for a story collection or sensemaking session needs move up and move down buttons (since you are supposed to be planning a schedule) OR an "order' field [added "order" field]
OBSOLETE Bug if move data item up or down; when you click on an item, it shows you what used to be in that position not what is currently there [no longer moving up/down, and probably otherwise not an issue when using Mithril grid]
DONE In the story browser, if you look at a story (view), then change the selection of stories, the old story still shows.
DONE Bug if viewing data when remove it; the viewing panel remains open with old data [same as above]
DONE Deal with Pointrel client receiving response that a resource already exists as a duplicate by discarding queued message
OBSOLETE Popup for add item from grid -- should have better label in title as to what type of thing is added
OBSOLETE Uncomment and test tooltip code in grid table
OBSOLETE Get tooltips working in dialogs (maybe Dojo bug?)
DONE Reminder entered (on first planning page) did not show up on planning dashbaoard page [probably fixed with Mithril, if not before]
DONE Add trademark disclaimer/limitation for NarraFirma [as README.txt file]
DONE Get projectAdmin to work again with newer user/role/project system to replace the command line tool
DONE Remove overly large recommendations CSV file for intervention from Git repository (two copies at about ~100 MB each when shoudl be ~10K)
DONE Improve Pointrel TripleStore so it uses an index instead of linear lookup to find C values
DONE Improve Pointrel TripleStore so it returns defensive copies of C values in case user modifies them
DONE Support styling of dialog using a class
DONE Support recommendationTable
DONE Recommendations table needs fixing -- one for each participant group [or outcome]
DONE For intervention, the recommendations have to come from a separate file (recommendations_intervention_filledin.csv)
DONE Improve dialog width sizing for when window is smaller
DONE Support cancel buttons in dialogs and use that in text editor for clustering diagram
DONE Don't show navigation buttons for most grids -- just the grids with it specified
DONE Provide status of whether survey is active on main dashboard
DONE Back button not working reliabley (especially in Safai 5) since transition from Dojo hash
DONE Need to hash passwords on client and server instead of using plain text [storing hashed values]
DONE Change server default to read a file for superuser information
DONE Add command-line server admin command to update superuser information ("update-superuser")
DONE Read passwords from command line for server admin tool
DONE Add page about printing story cards for sensemaking
DONE Page to print story cards [same as above]
DONE Print story cards as HTML
OBSOLETE Fix how templates list popup has too much scrolling and is not sized well; perhaps start with grid item view pane open? [Improved with Mithril]
NOT DOING Change button names from "new item" to "new" - etc [Need to distinguish item from cluster now]
DONE When you enter a story, it replaces the title of the main web page (Enter stories) with the name of the story form (questionnaire).
DONE Think through diagram sizing issue -- both for internal pane and for external div holder [Added a "Diagram Size" button; good enough for now]
DONE Clustering for Planning -- Finish "Create project story elements" page in planning phase
DONE Export for story collection to CSV format (ideally with questionnaire)
DONE Add export button for survey results
DONE Generate CSV output
DONE CSV import may no longer be working correctly [was importing binary xls file not CSV!]
DONE CSV Import of eliciting questions may not be working
