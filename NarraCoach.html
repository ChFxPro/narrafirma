<!DOCTYPE html>
<html>

<head>
<title>NarraCoach</title>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dojo/resources/dojo.css">
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dijit/themes/dijit.css">
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dijit/themes/claro/claro.css">
<style type="text/css">
  @import "http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dojox/grid/resources/claroGrid.css";

  /*Grid needs an explicit height by default*/
  #gridDiv {
      height: 30em;
  }
</style>
<script>dojoConfig = {async: true, parseOnLoad: false}</script>
<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dojo/dojo.js"></script>
<script>
  function insertQuestionsIntoDiv(questions, divName) {
	  var questionsDiv = document.getElementById(divName);
  
	  for (var questionIndex in questions) {
		var question = questions[questionIndex];
		// console.log("question", question);
		var input = '<input type="text" name="' + question.id + '">';
		if (question.type === "boolean") {
		  input = '<input type="radio" name="' + question.id + '" value="No"> No <input type="radio" name="' + question.id + '" value="Yes"> Yes ';
		}
		var help = "";
		if (question.help) {
		  var helpText = question.help.replace(/\"/g, '\\x22').replace(/\'/g, '\\x27');;
		  help = '<button onclick="alert(\'' + helpText + '\')">?</button>';
		}
		questionsDiv.innerHTML = questionsDiv.innerHTML + "  <b>" + questionIndex + ". </b>" + question.text + input + help + "<br>";
	  }
  }
</script>
</head>

<body class="claro">
  <b>NarraCoach</b><br>
  
  <script>
	require([
		'dojo/parser',
		'dojo/domReady!'
	], function(parser){
		parser.parse(); // tell dojo to check the DOM for widgets
	});
  </script>
  
  <div id="questionsDiv"></div>
  
  <script>

  var testPuppyQuestions = [
    {id: "name", type: "text", text: "Your Name", help: 'Please enter your \'full\' name, like "John Smith".'},
    {id: "wantPuppy", type: "boolean", text: "Do you want a free puppy today?", help: "Enter yes or no"},
    {id: "reason", type: "text", text: "If yes, why do you want a free puppy?"},
  ];
  
  var createSurveyQuestions = [
    {id: "questionID", type: "text", text: "Question ID", help: 'TODO'},
    {id: "questionType", type: "text", text: "Question Type", help: 'TODO'},
    {id: "questionText", type: "text", text: "Question Text", help: 'TODO'},
    {id: "questionHelp", type: "text", text: "Question Help", help: 'TODO'},
  ];
  
  insertQuestionsIntoDiv(testPuppyQuestions, 'questionsDiv');
  //insertQuestionsIntoDiv(createSurveyQuestions, 'questionsDiv');
  </script>
</body>

</html>
