<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Test of select in a table</title>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dojo/resources/dojo.css">
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dijit/themes/dijit.css">
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dijit/themes/claro/claro.css">

<script src="http://ajax.googleapis.com/ajax/libs/dojo/1.10.0/dojo/dojo.js"></script>

<style>
.tableContainer-valueCell {
    width: 50%
}
</style>

</head>

<body class="claro">

<div id="testDiv"></div>

<script>
require(["dijit/form/Select", "dojox/layout/TableContainer", "dojo/domReady!"], function(Select, TableContainer){
    // Posted question on this to the Dojo-interest list: http://mail.dojotoolkit.org/pipermail/dojo-interest/2014-September/082218.html
    // My intent here is to have a table with two side-by-side selects, where the selects do not change size when selections are chosen.
    // Why do the sizes of the selects change when an option is chosen in Firefox 31.0 and Safari 5.1.10 but not in Chromium 34.0.1847.137?
    
    function newSelect(options, containerPane) {
        var select = new Select({
            options: options,
            style: "width: 100%;"
        });
        
        containerPane.addChild(select);
        select.startup();
        return select;
    }
    
    var table = new TableContainer({
        cols: 2,
        showLabels: false,
        style: "width: 100%;"
    }, "testDiv");
    
    options = [
        {label: "short", value: "1"},
        {label: "long ---------------------------------------------", value: "2"}
    ];
    
    newSelect(options, table);
    newSelect(options, table);
    
    table.startup();
});
</script>

</body>
</html>
